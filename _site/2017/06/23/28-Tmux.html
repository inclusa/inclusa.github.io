<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>28 Tmux</title>
    <meta name="description" content="A simple, whitespace, helvetica based portfolio theme.
">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/2017/06/23/28-Tmux.html">

    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <nav class="site-nav">

      <div class="trigger">
        <!-- inclusa instead of blog -->
        <a class="page-link" href="/">blog</a>

        
          
          <a class="page-link" href="/about/">id</a>
          
        
          
        
          
        
          
          <a class="page-link" href="/poetry/">sen</a>
          
        
          
          <a class="page-link" href="/portfolio/">por</a>
          
        
          
          <a class="page-link" href="/productivitat/">pro</a>
          
        

      </div>
    </nav>

  </div>

</header>



    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">28 Tmux</h1>
    <p class="post-meta">June 23, 2017 — 00:00</p>
  </header>

  <article class="post-content">
    <h1 id="1-què-és-tmux">1. Què és Tmux</h1>

<p><em>Tmux</em> és un programa que permet utilitzar diverses consoles virtuals des d’una mateixa finestra.</p>

<p><em>Tmux</em> és un multiplexor de terminals.</p>

<p>Quan utilitzem Tmux amb el nostre terminal obtenim avantatges, de les quals destacarem 3:</p>

<ol>
  <li>Permet restaurar sessions que han mort accidentalment.</li>
  <li>Ajuda a organitzarnos quan treballem amb moltes terminals al mateix temps.</li>
  <li>Facilita canviar ràpidament d’entorn de treball.</li>
</ol>

<h1 id="2-conceptes-claus">2. Conceptes claus</h1>

<ol>
  <li><em>Sessió</em></li>
  <li><em>Finestra</em></li>
  <li><em>Panell</em></li>
</ol>

<p>La <em>sessió</em> és una col·lecció de consoles virtuals gestionades per Tmux. Cada sessió té una o més <em>finestres</em> associades. Les finestres ocupen tot l’espai de la pantalla, es poden dificir en regions rectangulars que s’anomenen <em>panels</em>. En cada panel s’executa una consola virtual independent.</p>

<p><strong>2.1. Barra d’estat</strong></p>

<ol>
  <li>Index de la sessió entre corxets</li>
  <li>L’índex i el nom de la finestra</li>
  <li>La ruta relativa del panel</li>
  <li>L’hora i la data actuals</li>
</ol>

<p><strong>2.2. Arquitectura Client / Servidor</strong></p>

<p>Quan executem el comandament <code class="highlighter-rouge">tmux</code> en terminal es creen dos processos independents: un per al client i altre per al servidor.</p>

<p>Aquests processos es comuniquen entre sí mitjançant l’enviament de comandaments.</p>

<p><strong>2.3. Funcions del client</strong></p>

<ol>
  <li>Enviar comandaments al servidor que es vol que Tmux execute</li>
  <li>Pintar sessions, finestres i panels en patatalla que està gestionant el servidor</li>
</ol>

<p><strong>2.4. Funcions del servidor</strong></p>

<ol>
  <li>S’encarrega d’executar els comandaments</li>
  <li>Gestiona les sessions i consoles virtuals</li>
</ol>

<p>Gràcies a aquesta arquitectura, si el client acaba el server continuarà executant les tasques en segon pla. Això és el que ens permetrà recuperar el nostre entorn més tard.</p>

<p><strong>2.5. Comandaments</strong></p>

<p>Es poden classificar en dos tipus depenent de com li’ls passem a Tmux.</p>

<p>Elx comandaments que executem fora de la sessió de Tmux s’anomenen comandaments no interactius.</p>

<p>Anomenem <code class="highlighter-rouge">prefixe</code> a <code class="highlighter-rouge">Ctrl + b</code></p>

<p>Comandaments interactius: <code class="highlighter-rouge">prefixe + : + comandament</code></p>

<p>Combinació de tecles: <code class="highlighter-rouge">prefixe + tecla</code></p>

<p><strong>2.6. Sessions</strong></p>

<p><code class="highlighter-rouge">tmux list-sessions</code>: llistat de totes les sessions</p>

<p><code class="highlighter-rouge">tmux attach</code>: es connectarà a l’última sessió</p>

<p><code class="highlighter-rouge">tmux attach -t 0</code>: es connectarà a la sessió 0</p>

<p><code class="highlighter-rouge">Ctrl + b + d</code>: desconnecta de la sessió</p>

<p><code class="highlighter-rouge">Ctrl + b+ $</code>: canvia el nom de la sessió</p>

<p><code class="highlighter-rouge">Ctrl + b+ s</code>: navegar entre sessions</p>

<p><code class="highlighter-rouge">Ctrl + b+ : + kill-session</code>: matar sessió</p>

<p><strong>2.7. Finestres</strong></p>

<p><code class="highlighter-rouge">Ctrl + b+ ,</code>: renomena una finestra</p>

<p><code class="highlighter-rouge">Ctrl + b+ c</code>: crear una finestra nova, un asterisc en la barra d’estat ens indica quina és la finestra activa</p>

<p><code class="highlighter-rouge">Ctrl + b+ p</code>: finestra prèvia</p>

<p><code class="highlighter-rouge">Ctrl + b+ n</code>: finestra següent</p>

<p><code class="highlighter-rouge">Ctrl + b+ 0</code>: finestra 0</p>

<p><code class="highlighter-rouge">Ctrl + b+ 2</code>: finestra següent</p>

<p><code class="highlighter-rouge">Ctrl + b+ &amp;</code>: tanca totes les finestres</p>

<p><strong>2.8. Panels</strong></p>

<p><code class="highlighter-rouge">Ctrl + b+ "2</code>: divideix el panell horitzontalment</p>

<p><code class="highlighter-rouge">Ctrl + b+ %5</code>: divideix el panell actiu verticalment</p>

<p><code class="highlighter-rouge">Ctrl + b+ →</code>: utilitzem les fletxes per menejar-nos entre panells</p>

<p><code class="highlighter-rouge">Ctrl + b+ x</code>: tanca el panell</p>

<p><code class="highlighter-rouge">Ctrl + b+ espai</code>: rota la configuració dels panells configurant els layouts</p>

<p><code class="highlighter-rouge">Ctrl + b+ [</code>: mode còpia</p>

<p><code class="highlighter-rouge">q</code>: eixir del mode còpia</p>

<iframe width="640" height="360" src="https://www.youtube.com/embed/vwRxelWEuFE" frameborder="0" allowfullscreen=""></iframe>

<h1 id="3-tmux-amb-oh-my-zsh">3. Tmux amb Oh My ZSH</h1>

<table>
  <thead>
    <tr>
      <th>Alias</th>
      <th>Commandament</th>
      <th>Descripció</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">ta</code></td>
      <td><code class="highlighter-rouge">tmux attach -t</code></td>
      <td>Attach new tmux session to already running named session</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tad</code></td>
      <td><code class="highlighter-rouge">tmux attach -d -t</code></td>
      <td>Detach named tmux session</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">ts</code></td>
      <td><code class="highlighter-rouge">tmux new-session -s</code></td>
      <td>Create a new named tmux session</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tl</code></td>
      <td><code class="highlighter-rouge">tmux list-sessions</code></td>
      <td>Displays a list of running tmux sessions</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tksv</code></td>
      <td><code class="highlighter-rouge">tmux kill-server</code></td>
      <td>Terminate all running tmux sessions</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tkss</code></td>
      <td><code class="highlighter-rouge">tmux kill-session -t</code></td>
      <td>Terminate named running tmux session</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">tmux</code></td>
      <td><code class="highlighter-rouge">_zsh_tmux_plugin_run</code></td>
      <td>Start a new tmux session</td>
    </tr>
  </tbody>
</table>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">
  	<p>This site was built using <a href="http://jekyllrb.com" target="_blank">Jekyll</a> and is hosted on <a href="https://github.com" target="_blank">Github</a> Photos from <a href="https://unsplash.com" target="_blank">Unsplash</a> and text generated with <a href="http://hipsum.co" target="_blank">Hipster Ipsum</a>. &#169; 2015</p>
  </div>

</footer>


  </body>

</html>
